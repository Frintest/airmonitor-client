# airmonitor

**Проблема:** .

**Актуальность:** .

**Объект:** .

**Предмет:** .

**Цель:** Создать систему мониторинга качества воздуха в реальном времени. Проект должен состоять из устройства, отслеживающее данные о параметрах водуха, и веб-приложения, визуализирующее данные.

**Задачи:**

1. Проанализировать существующие веб-приложения или сайты, специализирующиеся на мониторинге параметров или качества воздуха.
2. Создать устройство, отслеживающее данные о параметрах водуха.
3. Реализовать логику отправки данных в базу данных.
4. Разработать дизайн веб-приложения.
5. Разработать frontend и backend часть приложения.

## Глоссарий

1. **Веб-приложение** - приложение, которое разработано для интернет браузеров. Отличается от сайта наличием большого количества динамической логики.
2. **SPA** (Single Page Application) - тип веб-приложения, в котором существует только один .html файл, подключающий JavaScript приложение. Все страницы, которые бы могли присутствовать на сайте, в веб-приложении реализованы на JavaScript.
3. **API** (Application Programming Interface) - набор способов и правил, по которым различные программы общаются между собой и обмениваются данными.
4. **Frontend** - клиентская часть продукта (интерфейс, с которым взаимодействует пользователь).
5. **Backend** - серверная часть продукта, реализующая, в первую очередь, защиту данных и API продукта.
6. **VDS** (Virtual Dedicated Server) - услуга виртуального хостинга, при которой клиенту выделяется виртуальный сервер целиком с полными административными правами, которые дают возможность установить на сервер любое программное обеспечение.
7. **DAL** (Data Access layer) - слой приложения, обеспечивающий доступ к данным, хранящихся, например, в базе данных.
8. **BLL** (Business Logic Layer) слой приложения, инкапсулирующий всю бизнес-логику.
9. **UI** (User Interface) - слой приложения, реализующий пользовательский интерфейс.
10.   **REST API** (Representational State Transfer) - это архитектурный подход, который устанавливает ограничения для API: как они должны быть устроены и какие функции поддерживать. Отличительной особенностью REST API является то, что он позволяют наилучшим образом использовать протокол HTTP.
11.   **WebSocket** - протокол связи поверх TCP-соединения, предназначенный для обмена сообщениями между браузером и веб-сервером, используя постоянное соединение.
12.   **GitHub** - крупнейший сервис для хостинга IT-проектов и их совместной разработки.

## Устройство

![Первая фотография устройства](./docs/readme/images/device-1.jpg)
![Вторая фотография устройства](./docs/readme/images/device-2.jpg)

## Веб-приложение

Ссылка на веб-приложение, размещённое на хостинге GitHub Pages: [https://frintest.github.io/airmonitor-client/](https://frintest.github.io/airmonitor-client/).<br>
Ссылка на веб-приложение, размещённое на vds. [https://airmonitor.servermc.ru/](https://airmonitor.servermc.ru/)

Ссылка на github frontend части приложения: https://github.com/Frintest/airmonitor-client.<br>
Ссылка на github backend части приложения: https://github.com/Frintest/airmonitor-server.

### Frontend

Frontend часть написана на библиотеке на экосистеме react. Архитектурно приложение разделено на 3 слоя:

1. **DAL** - Реализован библиотекой socket.io-client.
2. **BLL** - Реализован библиотекой redux.
3. **UI** - Реализован библиотекой react.

Клиентская часть приложения является SPA, поэтому данные на сайте изменяются без перезагрузки страницы.

Подготовка проекта к развёртыванию на сервере осуществляется библиотекой webpack. Происходит сборка модулей, в единые файлы (Все .js файлы будут собраны в один .js файл, и т.д.), с их последующей мининизацией.

### Backend

Серверная часть приложения написана на ванильном nodejs. Для работы с базой данных MySQL я использую библиотеку mysql2. Сборка backend части приложения не осуществляется.

### База данных

В качестве базы данных я использую MySQL.

### API

Приложение отображает данные в реальном времени. По этой причине я отказался от использования классического способа описания API приложения - REST API, и использовал Websocket API, предоставляемой библиотекой socket.io.

### Деплой

Развёртывание frontend и backend части приложения на сервере осуществляется сервисом GitHub Actions. Он исполняет .yml конфиг, в котором прописаны правила сборки проекта и его дальнейшего деплоя.

Backend часть попадает на vds и точка входа приложения автоматически перезапускается. Для автономной работы приложения я использую инструмент pm2.

Развёртывание frontend части происходит на том же vds сервере что и backend часть, а также на бесплатном хостинге GitHub Pages.
